# EAST ResNet-18 Configuration
# Base configuration for ResNet-18 backbone

model:
  backbone: "resnet18"
  pretrained: true
  feature_dim: 128
  geometry_type: "QUAD"  # QUAD or RBOX
  
  # Feature fusion network
  feature_fusion:
    channels: [64, 128, 256, 512]  # ResNet-18 channels
    output_channels: 128
    
  # Prediction heads
  prediction_head:
    score_channels: 1
    geometry_channels: 8  # 8 for QUAD, 5 for RBOX

# Training configuration
training:
  epochs: 100
  batch_size: 8
  learning_rate: 0.001
  weight_decay: 0.0005
  
  # Optimizer settings
  optimizer: "Adam"
  scheduler: "StepLR"
  step_size: 50
  gamma: 0.1
  
  # Training options
  mixed_precision: true
  gradient_clipping: 1.0
  accumulate_grad_batches: 1
  
  # Validation
  val_check_interval: 1000
  save_top_k: 3
  monitor: "val_fscore"
  mode: "max"

# Loss function configuration
loss:
  geometry_weight: 1.0
  classification_weight: 1.0

# Data configuration
data:
  dataset_path: "data/icdar2015"
  input_size: [512, 512]
  mean: [0.485, 0.456, 0.406]  # ImageNet normalization
  std: [0.229, 0.224, 0.225]
  
  # Data loading
  num_workers: 4
  prefetch_factor: 2
  pin_memory: true
  
  # Augmentation
  augmentation:
    random_rotation: 10  # degrees
    color_jitter:
      brightness: 0.2
      contrast: 0.2
      saturation: 0.2
      hue: 0.1
    horizontal_flip: 0.5

# Logging configuration
logging:
  project_name: "east-implement"
  experiment_name: "resnet18-baseline"
  log_every_n_steps: 50
  save_dir: "experiments"